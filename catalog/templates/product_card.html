{% extends 'base.html' %}

{% block title %}{{product.category}}/{{product.product_name}}{% endblock %}

{% block content %}
{% include 'header.html' %}
<div class="container card shadow-sm" style="display: flex; align-items: center;">

    <img src="/media/{{ product.image }}" alt="Нет изображения" style="justify-content: center;">
    <div class="row">
        <div class="col-8">
            <h1> {{product.product_name}} </h1>
            <h6> Категория: {{product.category}} </h6>
            <h2>Цена - {{product.price}}</h2>
            <div class="card-body">
                <p class="card-text">Описание: {{product.description}}</p>
            </div>
        </div>
        <div class="col-1"></div>
        <div class="col-3">
            <div class="row" style="justify-content: space-between;">
                <a href="#" class="btn btn-lg btn-block btn-outline-success"
                        style="box-shadow: 4px 4px 10px green; margin: 3px;">Купить
                </a>
                {% if user == product.owner or perms.catalog.can_unpublish_product %}
                <a href="{% url 'catalog:product_form' product.pk %}" class="btn btn-secondary"
                   style="margin: 3px;">Редактировать</a>
                {% endif %}
                {% if user == product.owner or perms.catalog.delete_product %}
                <a href="{% url 'catalog:product_delete' product.pk %}" class="btn btn-danger"
                   style="margin: 3px;">Удалить</a>
                {% endif %}
                <a href="{% url 'catalog:home' %}" class="btn btn-primary" style="margin: 3px;">Вернуться
                    к списку</a>
            </div>
            {% if perms.catalog.can_unpublish_product %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="true" id="flexCheckCheckedDisabled" {% if product.is_published %}checked{% else %}{% endif %}>
                <label class="form-check-label" for="flexCheckCheckedDisabled">
                    Опубликовано
                </label>
            </div>
            {% endif %}
        </div>
    </div>

</div>

{% endblock %}